---
layout: post
title: 'OS X: fink messes with your java classpath'
date: '2009-07-16T01:11:00.001+02:00'
author: Jonas Bandi
tags:
- technology
- mac
modified_time: '2009-07-16T01:11:05.292+02:00'
thumbnail: http://lh6.ggpht.com/_X3kaawac_g4/Sl5hmccuoiI/AAAAAAAAAoM/aLEdXPpOQq4/s72-c/angry_face.jpg?imgmax=800
blogger_id: tag:blogger.com,1999:blog-5763764290649132593.post-2055451577220950240
blogger_orig_url: http://blog.jonasbandi.net/2009/07/os-x-fink-messes-with-your-java.html
---

<img style="margin: 0px 0px 0px 10px" src="http://lh6.ggpht.com/_X3kaawac_g4/Sl5hmccuoiI/AAAAAAAAAoM/aLEdXPpOQq4/angry_face.jpg?imgmax=800" border="0" width="170" align="right" />
Recently I spent half of a night correcting the consequences of a stupid decision:

<div style="width:230px;"> 
<blockquote style="font-size:14px">I thought it would be a good idea to install Ant with Fink... </blockquote> 
</div>
<br/>
Generally I am a big fan of the OSX package managers <a href="http://www.finkproject.org/">Fink</a> and <a href="http://www.finkproject.org/">MacPorts</a>. They have saved me a lot of work <a href="http://blog.jonasbandi.net/2008/02/installing-postgresql-on-os-x-using.html">before</a>.
<br/>
<br/>
But after last night I am very skeptical if it is really a good idea to install a java application via Fink.
<br/>
<br/>
I just typed <code style="border: solid 1px silver; background-color:LightGray">fink install ant</code> ...
<br/>
<br/>
...and after the installation finished, my java classpath was quite borked!
<br/>
Fink added tons of jars to my classpath (specifically everything listed in /sw/share/java/classpath).
<br/>
<br/>
This had the effect, that <a href="http://webtest.canoo.com/">Canoo Web Test</a> was not working any more!
<br/>
Reason: Fink has put an incompatible version of <a href="http://www.mozilla.org/rhino/">Rhino</a> on my classpath ...
<br/>
<br/>
My first error was probably, that I installed the <em><a href="http://pdb.finkproject.org/pdb/package.php/ant">ant</a></em> package and not <em><a href="http://pdb.finkproject.org/pdb/package.php/ant-base">ant-base</a></em> package. Because ant comes with a lot of java dependencies ...
<br/>
<br/>
Nevertheless I don't think people usually want fink to mess with their java classpath ... this has such a potential to break things ...
<br/>
<br/>
After finding out the reason, I spent some time with <code style="border: solid 1px silver; background-color:LightGray">fink purge -r</code> to get rid of all those packages that polluted my classpath... It turns out that installing stuff with fink is a lot easier than getting rid of it again ...
<br/>
<br/>
<div style="align:right; font-size: 10px; clear:right; ">
<br/>
<p><a  href="http://twitter.com/jbandi"><img style="margin: 0px 0px 0px 0px" src="http://www.google.com/s2/favicons?domain=twitter.com" alt="http://www.google.com/s2/favicons?domain=twitter.com" border="0" align="left" height="13px"/> follow me on twitter, I need some friends :-)</a></p></div>