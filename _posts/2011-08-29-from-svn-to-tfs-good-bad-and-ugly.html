---
layout: post
title: 'From SVN to TFS: The Good, The Bad and The Ugly'
date: '2011-08-29T23:03:00.001+02:00'
author: Jonas Bandi
tags:
- technology
- programming
modified_time: '2011-08-29T23:18:58.889+02:00'
thumbnail: http://lh4.ggpht.com/-s0i6xVNcNJY/Tlv-kyfBzPI/AAAAAAAABCs/q9X3nUDEjt0/s72-c/image_thumb%25255B17%25255D.png?imgmax=800
blogger_id: tag:blogger.com,1999:blog-5763764290649132593.post-7528013320075119085
blogger_orig_url: http://blog.jonasbandi.net/2011/08/from-svn-to-tfs-good-bad-and-ugly.html
---

<p>For my <a href="http://msdn.microsoft.com/de-ch/aa570302.aspx?EventID=1032382726&amp;WT.mc_id=eml-n-ch-loc--MSDNE">recent MSDN TechTalk</a> I did some research how to migrate a source control repository from SVN to TFS. While I am not advocating this migration, here are the options:</p><h4>The Good:</h4><p>Currently you have a choice of three tools:</p><p><a href="http://lh5.ggpht.com/-C_96ql5m7EE/Tlv-kb_QMxI/AAAAAAAABCo/MwMc5ZKzQAw/s1600-h/image%25255B23%25255D.png"><img style="display: inline; margin-left: 0px; margin-right: 5px; border-width: 0px;" title="image" src="http://lh4.ggpht.com/-s0i6xVNcNJY/Tlv-kyfBzPI/AAAAAAAABCs/q9X3nUDEjt0/image_thumb%25255B17%25255D.png?imgmax=800" border="0" alt="image" width="125" height="70" align="left" /></a><strong><a href="http://svn2tfs.codeplex.com/">svn2tfs:</a></strong><br/>
svn2tfs is a simple tool written in VB.NET. You need to have SVN installed in order for this tool to work. It basically replays every revision from SVN as changeset into TFS.</p><p><strong><a href="http://lh6.ggpht.com/-mQ0LarD3Z9Q/Tlv-m_CHlvI/AAAAAAAABCw/dhDmdVsrv-U/s1600-h/image%25255B20%25255D.png"><img style="display: inline; margin-left: 0px; margin-right: 5px; border-width: 0px;" title="image" src="http://lh6.ggpht.com/-uBmdnHEXjZ0/Tlv-nMXaDFI/AAAAAAAABC0/DZPmtYsk0Tg/image_thumb%25255B14%25255D.png?imgmax=800" border="0" alt="image" width="189" height="56" align="left" /></a><a href="http://tfsintegration.codeplex.com/">TFS Integration Platform:</a></strong><br/>
The TFS Integration Platform is the Swiss army knife for many possibilities to get data in and out of TFS. The TFS integration platform is available as supported Microsoft <a href="http://visualstudiogallery.msdn.microsoft.com/f854dd59-8eeb-4673-8d9a-ae012989bfa2">product on Visual Studio Code Gallery</a> and as bleeding-edge release on Codeplex. The SVN adapter is currently only part of the codeplex release.</p><p><strong><a href="http://lh4.ggpht.com/-mGTjHxcrw_s/Tlv-nuVqUBI/AAAAAAAABC4/t7Y-18ZKsOU/s1600-h/image%25255B26%25255D.png"><img style="display: inline; margin-left: 0px; margin-right: 5px; border: 0px;" title="image" src="http://lh4.ggpht.com/-STvTj4rtWkg/Tlv-oFXkOII/AAAAAAAABC8/VSaLJWv1FtY/image_thumb%25255B20%25255D.png?imgmax=800" border="0" alt="image" width="194" height="66" align="left" /></a><a href="http://www.timelymigration.com/">Timely Migration: </a></strong><br />Timely Migration is a commercial tool. There are different modules for different source version control systems. To migrate from SVN to TFS the SVNToTFS module is needed. It costs $1995. Trial versions can be requested, but they do not migrate the content of the files.</p><table border="1" cellspacing="0" cellpadding="2" width="400" ><tbody><tr><td width="133" valign="top"><strong>svn2tfs</strong></td><td width="133" valign="top"><strong>Integration Platform</strong></td><td width="133" valign="top"><strong>Timely Migration</strong></td></tr><tr><td width="133" valign="top">open source</td><td width="133" valign="top">open source, from Microsoft</td><td width="133" valign="top">commercial, $1995</td></tr><tr><td width="133" valign="top">simple and easy to use</td><td width="133" valign="top">many features, complex, complicated</td><td width="133" valign="top">powerful features, easy to use</td></tr><tr><td width="133" valign="top">enough documentation</td><td width="133" valign="top">sparse documentation</td><td width="133" valign="top">good documentaion</td></tr><tr><td width="133" valign="top">SVN tags can be migrated as branches</td><td width="133" valign="top">SVN tags are migrated as branches</td><td width="133" valign="top">SVN tags are migrated to TFS labels</td></tr><tr><td width="133" valign="top">user-mapping is enforced</td><td width="133" valign="top">user-mapping is possible but not enforced</td><td width="133" valign="top">user-mapping is enforced and comfortable</td></tr><tr><td width="133" valign="top">migration is aborted in case of an error</td><td width="133" valign="top">some errors can be manually resolved and migration can be then be resumed</td><td width="133" valign="top">migration gets resumed when restarting after error resolution</td></tr></tbody></table><p>With each tool I was able to successfully migrate an example project from a local SVN repository.</p><h4>The Bad:</h4><p><strong>svn2tfs:</strong> I was not able to migrate SVN repositories from Google Code. The tool systematically failed, because the initial repository revision for the project layout (dirs for trunk, tags and labels) has not author. The tool can not deal with that. On the positive side was, that the source code of the tool is very simple so that I was quickly <a href="http://svn2tfs.codeplex.com/SourceControl/list/patches">able to create a patch</a>, that fixed this problem. On the negative side was, that there was <a href="http://svn2tfs.codeplex.com/SourceControl/list/patches">no reaction on the patch I submitted</a>. The project seem pretty dead.</p><p><strong>TFS Integration Platform:</strong> It seems not possible to do an aynonymous login to SVN. If you do not provide valid user/password, the migration fails with an ugly “NullReferenceException”. The documentation for the SVN adapter is sparse. For instance there was no documentation at all how to map svn users to TFS users. fortunately (after some nudging from my contact at Microsoft) <a href="http://social.msdn.microsoft.com/Forums/en-US/tfsintegration/thread/3e35cb27-6733-44a3-b364-936951288427/">my question in the forum was answered</a>. Some days later even <a href="http://blogs.msdn.com/b/willy-peter_schaub/archive/2011/08/15/tfs-integration-tools-how-do-i-define-user-mappings-for-version-control-using-the-svn-adapter.aspx">a blog post about the topic was published</a>. Another shortcoming is, that the mapping from svn users to TFS users is not enforced. If no mapping is specified, each svn user is silently mapped to the user that is running the migration tool. There is no support in checking if all users from svn are mapped to TFS users.</p><p><strong>Timely Migration:</strong> The only negative thing is the price since you probably need the tool only once.</p><h4>The Ugly:</h4><p>With none of the tools I was able to migrate the <a href="http://nerddinner.codeplex.com/">Nerd Dinner</a> repository from Codeplex. Each tool either reported an error or froze indefinitely.</p><div style="align:right; font-size: 10px; clear:right; "><br/><p><a  href="http://twitter.com/jbandi"><img style="margin: 0px 0px 0px 0px; border:none" src="http://www.google.com/s2/favicons?domain=twitter.com" alt="http://www.google.com/s2/favicons?domain=twitter.com" border="0" align="left" height="13px"/> If you like this, follow me on twitter...</a></p></div>